<!-- results.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Results</title>
</head>

<body>
  <h1>Results</h1>
  <div id="result-container"></div>

  <script>
    // Parse the query parameter to get the result
    var result = decodeURIComponent(new URLSearchParams(window.location.search).get('result'));

    // Display the result in the result-container
    displayResults(JSON.parse(result));

    function displayResults(results) {
      var resultContainer = document.getElementById('result-container');
      resultContainer.innerHTML = ''; // Clear previous results

      if (results.length === 0) {
        resultContainer.innerHTML = '<p>No results found.</p>';
        return;
      }

      var table = document.createElement('table');
      table.setAttribute('border', '1');
      table.setAttribute('cellpadding', '5');

      // Create table header
      var headerRow = table.insertRow(0);
      for (var key in results[0]) {
        var headerCell = headerRow.insertCell(-1);
        headerCell.innerHTML = key;
      }

      // Create table rows and cells
      for (var i = 0; i < results.length; i++) {
        var row = table.insertRow(-1);
        for (var key in results[i]) {
          var cell = row.insertCell(-1);
          cell.innerHTML = results[i][key];
        }
      }

      resultContainer.appendChild(table);
    }
  </script>
</body>

</html>
